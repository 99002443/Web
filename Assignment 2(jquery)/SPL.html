<html>

<head>

<title>spl</title>

<script src="assets/global/plugins/jquery.min.js" type="text/javascript"></script>

<script src="includes/javascripts/jquery/jquery-ui.min.js" type="text/javascript"></script>

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>

<script>

    $(document).ready(function () {

        let i = 1;

        $("#btnADD").click(function () {

            let newHtml = GetHtml().replace("$[ID]", i++).replace("$[NAME]", $("#txtname").val()).replace("$[ADDRESS]", $("#ddlAddress").val()).replace("$[action]", "Edit").replace("$[Delete]", "Delete");

            $("#table_td").append(newHtml);

        });

 

        $("#btnUpdate").click(function () {

            let newHtml = GetHtml().replace("$[ID]", $("#txtId").val()).replace("$[NAME]", $("#txtname").val()).replace("$[ADDRESS]", $("#ddlAddress").val()).replace("$[action]", "Edit").replace("$[Delete]", "Delete");

            $("#table_td").append(newHtml);

            $("#btnADD").show();

            $("#btnUpdate").hide();

            $("#txtId").val('');

            $("#txtname").val('');
            $("#ddlAddress").val('');
            //ddlAddress
            //$("#ddlAddress option:selected").val('Select')

 

        });

 

        $(document).on("click", "#E_Edit", function () {

            $("#bottonadd").hide();

            $("#bottonupdate").show();

            $("#txtID").show();

            $("#txtID").val($(this).parent().parent().find('.ID').html());

            $("#name").val($(this).parent().parent().find('.NAME').html());

            $("#Address").val($(this).parent().parent().find('.ADDRESS').html());

           // $("#ddlAddress option:selected").val($(this).parent().parent().find('.Address').html())

            $(this).parents("tr").remove();

            $("#bottonUpdate").focus();

 

        });

 

        $(document).on("click", "#D_Delete", function () {

            $(this).parents("tr").remove();

        });

    });

 

    function GetHtml() {

        return "<tr><td class='Id'>$[ID]</td>"

        + "<td class='Name'>$[NAME]</td>"

        + "<td class='Address'>$[ADDRESS]</td>"

        + "<td class='action'><a href='#' id='E_Edit'> $[action] </a> <a href='#' id='D_Delete'>$[Delete]</a></td></tr>";

    }

 

</script>

</head>

<body>

<form id="formEmp">

    <table class='table table-bordered' id='UserInfo'>

        <tr>

            <th>ID</th>

            <th>Name</th>

            <th>Address</th>

            <th>Action</th>

        </tr>

        <tbody id="table_td"></tbody>

    </table>

    <h3>

        Add New

    </h3>

    <table class='table table-bordered' id='Add'>

        <tr>

            <th>ID</th>

            <th>NAME</th>

            <th>ADDRESS</th>

        </tr>

        <tr>

            <td>

                <input type="text" id="txtID" style="display: none" readonly name="ID" value="" />

            </td>

            <td>

                <input type="text" id="NAME" name="name" value="" />

            </td>

            <td>
                <input type="text" id="ADDRESS" name="Address" value="" />

            </td>

        </tr>

    </table>

    <input type="button" id="bottonadd" style="display: block" value="Add" />

    <input type="button" id="botttonupdate" style="display: none" value="Update" />

    <br />

    <div id="output"></div>

</form>

</body>

</html>